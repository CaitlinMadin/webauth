(function(a){var c={};function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:false};a[d].call(e.exports,e,e.exports,b);e.loaded=true;return e.exports}b.m=a;b.c=c;b.p='';return b(0)})([function(a,b,c){'use strict';c(1);var e=c(2),f=d(e),g=c(4),h=d(g),i=c(5),j=d(i);function d(a){return a&&a.__esModule?a:{default:a}}window.bk_async=function(){if(13===parseInt('14',10)||14===parseInt('14',10)){bk_addPageCtx('AuDigent_Test_Music','1')}else{bk_addPageCtx('AuDigent_Test_All','1')}BKTAG.doTag(51219,10)};(function(){var a=document.getElementsByTagName('script')[0],b=document.createElement('script');b.async=false;b.src='https://tags.bkrtx.com/js/bk-coretag.js';a.parentNode.insertBefore(b,a)})();(function(){window.au_audience_code='NR2KKA';var a=document.getElementsByTagName('script')[0],b=document.createElement('script');b.async=false;b.src='https://d2co8zhit5yrvb.cloudfront.net/static/js/pixels.js';a.parentNode.insertBefore(b,a)})();(function(a){function b(b){var c=a.createElement('img');c.height=1;c.width=1;c.style.display='none';c.src=b;return c}var c={"cd[audience_id]":'NR2KKA',"cd[audigent_id]":'337eb5d4-35bc-464c-b16b-845ab012f1f2',"cd[type]":'passive',"cd[partner_id]":'14',"cd[short_url_id]":'',"cd[engagement_type]":'',"cd[content_type]":'',"cd[conversion_pixels]":''},d=Object.keys(c).map(function(a){return a+''+'='+(encodeURIComponent(c[a])+'')}).join('&');if(false){console.log(d)}a.body.appendChild(b('https://www.facebook.com/tr?id=1853083501571805&ev=PageView'));a.body.appendChild(b('https://www.facebook.com/tr?id=1853083501571805&ev=Audience&'+d));var e='nx55a',f='nx4zn';if('0'!==e){a.body.appendChild(b('https://analytics.twitter.com/i/adsct?p_id=Twitter&p_user_id=0&txn_id=nx55a&events=%5B%5B%22pageview%22%2Cnull%5D%5D&tw_sale_amount=0&tw_order_quantity=0'));a.body.appendChild(b('//t.co/i/adsct?p_id=Twitter&p_user_id=0&txn_id=nx55a&events=%5B%5B%22pageview%22%2Cnull%5D%5D&tw_sale_amount=0&tw_order_quantity=0'))}if('0'!==f){a.body.appendChild(b('https://analytics.twitter.com/i/adsct?p_id=Twitter&p_user_id=0&txn_id=nx4zn&events=%5B%5B%22pageview%22%2Cnull%5D%5D&tw_sale_amount=0&tw_order_quantity=0'));a.body.appendChild(b('//t.co/i/adsct?p_id=Twitter&p_user_id=0&txn_id=nx4zn&events=%5B%5B%22pageview%22%2Cnull%5D%5D&tw_sale_amount=0&tw_order_quantity=0'))}})(document);(function(a){var k=false,l=false,m=false,n=false;function b(a,b){var c=a.charAt(b);return /[A-Z]|[\u0080-\u024F]/.test(c)&&c===c.toUpperCase()}function c(b){var c=a.createElement('img');c.height=1;c.width=1;c.style.display='none';c.src=b;return c}function d(a){var b,c,d,e,f,g;a=a.toUpperCase();b='MNBVCXZLKJHGFDSAPOIUYTREWQ0981234765';c='ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890';d='';for(e=0;e<a.length;e++){f=a.charAt(e);g=c.indexOf(f);if(-1===g){d+=f}else{d+=b.charAt(g)}}return d}function e(b){if(b&&b.target&&b.target.value&&-1!==b.target.value.indexOf('@')&&!k){var e=b.target.value,f=encodeURIComponent(d(e)),g=['.BSF','.CVY','.BS.YH','.DCU','.ZST','.SOZ','.KS'];g.forEach(function(b){if(-1!==f.indexOf(b)){var d=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(d.test(e)){a.body.appendChild(c('https://p.ad.gt/api/v1/p/fc/em/'+f+'/337eb5d4-35bc-464c-b16b-845ab012f1f2'));k=true}}})}return true}function f(e){if('undefined'!=typeof e&&'undefined'!=typeof e.target&&'undefined'!=typeof e.target.name&&-1!==e.target.name.toLowerCase().indexOf('name')){if('undefined'!=typeof e.target.value&&-1!==e.target.value.indexOf(' ')&&!l&&!m){var f=e.target.value.split(' ');if(2==f.length){if(b(f[0],0)&&b(f[1],0)){var g=encodeURIComponent(d(f[0])),h=encodeURIComponent(d(f[1]));a.body.appendChild(c('https://p.ad.gt/api/v1/p/fc/an/'+g+'/'+h+'/337eb5d4-35bc-464c-b16b-845ab012f1f2'));l=true;m=true}}}else if('undefined'!=typeof e.target.value&&b(e.target.value,0)&&(!l||!m)){if(!l){var i=encodeURIComponent(d(e.target.value));a.body.appendChild(c('https://p.ad.gt/api/v1/p/fc/fn/'+i+'/337eb5d4-35bc-464c-b16b-845ab012f1f2'));l=true}else if(!m){var j=encodeURIComponent(d(e.target.value));a.body.appendChild(c('https://p.ad.gt/api/v1/p/fc/ln/'+j+'/337eb5d4-35bc-464c-b16b-845ab012f1f2'));m=true}}}else if('undefined'!=typeof e&&'undefined'!=typeof e.target&&'undefined'!=typeof e.target.value&&!n){var o=d(e.target.value);if(-1<['FO.','FO','FMGC','FMD'].indexOf(o)){a.body.appendChild(c('https://p.ad.gt/api/v1/p/fc/gn/m/337eb5d4-35bc-464c-b16b-845ab012f1f2'));n=true}else if(-1<['FOI.','FOI','FI.','FI','XCFMGC','RSFMD'].indexOf(o)){a.body.appendChild(c('https://p.ad.gt/api/v1/p/fc/gn/f/337eb5d4-35bc-464c-b16b-845ab012f1f2'));n=true}}if('undefined'!=typeof e&&'undefined'!=typeof e.target&&'undefined'!=typeof e.target.value&&!k){var p=e.target.value,q=encodeURIComponent(d(p)),r=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;if(r.test(p)){a.body.appendChild(c('https://p.ad.gt/api/v1/p/fc/em/'+q+'/337eb5d4-35bc-464c-b16b-845ab012f1f2'));k=true}}return true}function g(b){if(!b)return;if(-1!==a.location.href.toLowerCase().indexOf('bodakyellow')){if(-1!==b.toLowerCase().indexOf('itunes.apple.com')){var d=['https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=r2lq8ehx;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?','https://secure.adnxs.com/px?id=904471&t=2','https://www.facebook.com/tr?id=1853083501571805&ev=A3THEW-itunesbutton&noscript=1'];d.forEach(function(b){a.body.appendChild(c(b))})}}}Array.prototype.forEach.call(a.getElementsByTagName('input'),function(a){a.addEventListener('input',e);a.addEventListener('blur',f)});var o=false;function h(a){if(!o){var b=a.currentTarget.getAttribute('href');if(null!=b){g(b);var c=new XMLHttpRequest;c.open('GET','https://p.ad.gt/api/v1/p/ubh/zys/s/3955350d7fbbf3b0af4d2ea2bf5b6a4c/337eb5d4-35bc-464c-b16b-845ab012f1f2?url='+encodeURI(b));c.send(null);ga('auPassiveTagger.send',{hitType:'event',eventCategory:'link_click',eventAction:b,eventLabel:'3955350d7fbbf3b0af4d2ea2bf5b6a4c'});o=true}}}Array.prototype.forEach.call(a.getElementsByTagName('a'),function(a){if(a.addEventListener){a.addEventListener('mousedown',h);a.addEventListener('touchstart',h)}else if(a.attachEvent){a.attachEvent('mousedown',h);a.attachEvent('touchstart',h)}});function j(a){var b=a.currentTarget.form;if(!b)return;var c=b.action;if(!c)return;g(c);var d=new XMLHttpRequest;d.open('GET','https://p.ad.gt/api/v1/p/ubh/zys/s/3955350d7fbbf3b0af4d2ea2bf5b6a4c/337eb5d4-35bc-464c-b16b-845ab012f1f2?url='+encodeURI(c));d.send(null);ga('auPassiveTagger.send',{hitType:'event',eventCategory:'button_click',eventAction:c,eventLabel:'3955350d7fbbf3b0af4d2ea2bf5b6a4c'})}Array.prototype.forEach.call(a.getElementsByTagName('button'),function(a){if(a.addEventListener){a.addEventListener('mousedown',j);a.addEventListener('touchstart',j)}else if(a.attachEvent){a.attachEvent('mousedown',j);a.attachEvent('touchstart',j)}});if(0===parseInt('1',10)){for(var p=a.getElementsByTagName('meta'),q={},r=0,i;r<p.length;r++){i=p[r].getAttribute('property');if('og:title'==i)q.title=p[r].getAttribute('content');if('og:description'==i)q.description=p[r].getAttribute('content');if('og:image'==i)q.image=p[r].getAttribute('content');if('og:url'==i)q.url=p[r].getAttribute('content');if('og:type'==i)q.type=p[r].getAttribute('content');if('og:name'==i)q.name=p[r].getAttribute('content');if('og:locale'==i)q.locale=p[r].getAttribute('content')}if('undefined'==typeof q.url){if('undefined'!=typeof a.location&&'undefined'!=typeof a.location.href){q.url=a.location.href}}if('undefined'==typeof q.title){if('undefined'!=typeof a.title)q.title=a.title}var s=document.getElementsByClassName('related-topics')[0],t=[];if(s){Array.prototype.forEach.call(s.querySelectorAll('a'),function(a){if(0===a.text.indexOf('#')){t.push(a.text.replace('#',''))}})}q.tags=t.join();var u=window.digitalData;if('undefined'!=typeof u){if('undefined'!=typeof u.content){if('undefined'!=typeof u.content.artist){q.artist=u.content.artist}if('undefined'!=typeof u.content.label){q.label=u.content.label}if('undefined'!=typeof u.content.sublabel){q.sublabel=u.content.sublabel}}if('undefined'!=typeof u.page){if('undefined'!=typeof u.page.category&&'undefined'!=typeof u.page.category){if('undefined'!=typeof u.page.category.primaryCategory){q.primaryCategory=u.page.category.primaryCategory}if('undefined'!=typeof u.page.category.pageType){q.pageType=u.page.category.pageType}}}}var v=Object.keys(q).map(function(a){return a+''+'='+(encodeURIComponent(q[a])+'')}).join('&');a.body.appendChild(c('https://p.ad.gt/api/v1/p/tid/dec/s/3955350d7fbbf3b0af4d2ea2bf5b6a4c?'+v))}})(document);(function(){var a=document.createElement('a');a.href=window.location;if(!window.ga){(function(b,c,d,e,f,g,a){b.GoogleAnalyticsObject=f;b[f]=b[f]||function(){(b[f].q=b[f].q||[]).push(arguments)},b[f].l=1*new Date;g=c.createElement(d),a=c.getElementsByTagName(d)[0];g.async=1;g.src=e;a.parentNode.insertBefore(g,a)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga')}ga('create','UA-87198801-1','auto','auPassiveTagger');ga('auPassiveTagger.require','ecommerce');ga('auPassiveTagger.require','ec');ga('auPassiveTagger.set','dimension1','337eb5d4-35bc-464c-b16b-845ab012f1f2');ga('auPassiveTagger.set','dimension2','NR2KKA');ga('auPassiveTagger.set','dimension3','14');ga('auPassiveTagger.set','dimension4',a.host);ga('auPassiveTagger.set','dimension5',a.pathname);ga('auPassiveTagger.set','dimension6','Passive Tagger');ga('auPassiveTagger.set','dimension7','3955350d7fbbf3b0af4d2ea2bf5b6a4c');ga('auPassiveTagger.send','pageview')})(document);docReady(function(){var a=window.location.host.toLowerCase();if(window.digitalData){var b=window.digitalData,c=window.location;if(b.page){if(b.page.category.pageType.includes('store')){var d=new f.default(b.content.artist);d.initialize()}}else if(c.href.includes('store')||c.href.includes('checkout')){var e=new f.default(b.content.artist);e.initialize()}}if(a.match('thewarnermusicshop.com')){var g=new h.default('Warner Music Ireland');g.initialize()}if(a.match('lnk.to')){var i={};if(window.location.pathname.match('BowieDC')){i={itunes:['https://secure.adnxs.com/px?id=909097&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=3vp2fl8u;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],"google-play":['https://secure.adnxs.com/px?id=909099&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=8i8bfhyx;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],applemusic:['https://secure.adnxs.com/px?id=909100&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=rtm3xgdu;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],deezer:['https://secure.adnxs.com/px?id=909101&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=p1ztykcp;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],towerrecordsonline:['https://secure.adnxs.com/px?id=909460&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=tuzkasa9;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],warnermusicshop:['https://secure.adnxs.com/px?id=909461&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=pzfztwen;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],head:['https://secure.adnxs.com/px?id=909459&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=drjwdhrh;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],spotify:['https://secure.adnxs.com/px?id=909471&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=ntapwgxu;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?']}}if(window.location.pathname.match('LGAYWDC')){i={itunes:['https://secure.adnxs.com/px?id=911725&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=hs0rirok;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],"google-play":['https://secure.adnxs.com/px?id=911726&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=bphkhwr5;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],warnermusicshop:['https://secure.adnxs.com/px?id=911723&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=6v56arjm;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],youtube:['https://secure.adnxs.com/px?id=911727&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=ezmumasw;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],artiststore:['https://secure.adnxs.com/px?id=911724&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=bu8ogwjd;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],spotify:['https://secure.adnxs.com/px?id=911728&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=itrdwkce;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?']}}if(window.location.pathname.match('carryfireDC')){i={itunes:['https://secure.adnxs.com/px?id=914425&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=p9jaybak;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],"google-play":['https://secure.adnxs.com/px?id=914426&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=fzs6tpje;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],warnermusicshop:['https://secure.adnxs.com/px?id=914423&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=yqf2icxq;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?','https://secure.adnxs.com/px?id=914750&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=nzhsgyol;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],deezer:['https://secure.adnxs.com/px?id=914427&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=tbtynt2t;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],applemusic:['https://secure.adnxs.com/px?id=914493&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=ge4wsyq0;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],spotify:['https://secure.adnxs.com/px?id=914428&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=p7yezdqg;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],head:['https://secure.adnxs.com/px?id=914459&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=f2ofez2z;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?','https://secure.adnxs.com/px?id=914750&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=nzhsgyol;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],towerrecordsonline:['https://secure.adnxs.com/px?id=914460&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=zxsj2il1;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?','https://secure.adnxs.com/px?id=914750&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=nzhsgyol;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?'],musiczone:['https://secure.adnxs.com/px?id=914720&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=okbvdn6b;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?','https://secure.adnxs.com/px?id=914750&t=2','https://ad.doubleclick.net/ddm/activity/src=8005553;type=invmedia;cat=nzhsgyol;dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=1?']}}var k=new j.default('Linkfire',i);k.initialize()}})},function(a,b){'use strict';(function(a,b){'use strict';a=a||'docReady';b=b||window;var e=[],f=false,g=false;function c(){if(!f){f=true;for(var a=0;a<e.length;a++){e[a].fn.call(window,e[a].ctx)}e=[]}}function d(){if('complete'===document.readyState){c()}}b[a]=function(a,b){if('function'!==typeof a){throw new TypeError('callback for docReady(fn) must be a function')}if(f){setTimeout(function(){a(b)},1);return}else{e.push({fn:a,ctx:b})}if('complete'===document.readyState||!document.attachEvent&&'interactive'===document.readyState){setTimeout(c,1)}else if(!g){if(document.addEventListener){document.addEventListener('DOMContentLoaded',c,false);window.addEventListener('load',c,false)}else{document.attachEvent('onreadystatechange',d);window.attachEvent('onload',c)}g=true}}})('docReady',window)},function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:true});var h=function(){function a(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||false;d.configurable=true;if('value'in d)d.writable=true;Object.defineProperty(a,d.key,d)}}return function(b,c,d){if(c)a(b.prototype,c);if(d)a(b,d);return b}}(),i=c(3),j=d(i);function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b)){throw new TypeError('Cannot call a class as a function')}}function f(a,b){if(!a){throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')}return b&&('object'===typeof b||'function'===typeof b)?b:a}function g(a,b){if('function'!==typeof b&&null!==b){throw new TypeError('Super expression must either be null or a function, not '+typeof b)}a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:false,writable:true,configurable:true}});if(b)Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b}var k=function(a){g(b,a);function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));console.log('building warner class');c.brand=a;return c}h(b,[{key:'captureProduct',value:function a(){try{var b=window.digitalData,c=b.product[0];return{id:c.productInfo.productID+'-'+i.TAGGER_ID,name:b.page.pageInfo.pageName.split(':')[2],price:c.price,brand:this.brand}}catch(a){this.sendErrorToSentry(a);return null}}},{key:'captureProductNames',value:function a(){for(var b=document.querySelector('tbody'),c=b.querySelectorAll('tr'),d=[],e=0;e<c.length;e++){var f=c[e],g=f.childNodes[3].textContent.replace(/\s\s+/g,' ').replace(/^\s+|\s+$/g,'');d.push(g)}return d}},{key:'captureCart',value:function a(){try{for(var b=window.digitalData.cart.item,c=[],d=this.captureProductNames(),e=0;e<b.length;e++){var f=b[e],g={id:f.productInfo.productID+'-'+i.TAGGER_ID,name:d[e],brand:this.brand,price:f.price,quantity:f.quantity};c.push(g)}return c}catch(a){this.sendErrorToSentry(a);return null}}},{key:'calculateRevenue',value:function a(b){for(var c=0,d=0,e;d<b.length;d++){e=b[d].price.basePrice;c+=parseFloat(e)}return c}},{key:'captureTransaction',value:function a(){try{var b=window.digitalData,c=b.page,d=b.transaction,e=this.calculateRevenue(d.item);return{id:d.transactionID+'-'+i.TAGGER_ID,affiliation:c.pageInfo.server,revenue:e,tax:d.price.tax,shipping:d.price.shipping,items:d.item}}catch(a){this.sendErrorToSentry(a);return null}}},{key:'formatProductsInTransaction',value:function a(){for(var b=window.digitalData.transaction.item,c=this.captureProductNames(),d=[],e=0;e<b.length;e++){var f=b[e],g={id:f.productInfo.productID,name:c[e],brand:this.brand,price:f.price.basePrice,quantity:f.quantity};d.push(g)}return d}},{key:'initialize',value:function a(){var b=this,c={product:document.querySelector('.catalog-product-view'),checkout:document.querySelector('.checkout-cart-index')||document.querySelector('.checkout-onepage-index'),confirmation:document.querySelector('.checkout-onepage-success')};if(c.product){var d=this.captureProduct();if(d){this.sendViewProductEventToGA(d);var e=document.querySelector('.btn-cart');if(e){e.addEventListener('mousedown',function(){b.sendAddProductEventToGA(d);var a={event:'addToCart',data:d};b.profilerServiceRequest(a)});e.addEventListener('touchstart',function(){b.sendAddProductEventToGA(d);var a={event:'addToCart',data:d};b.profilerServiceRequest(a)})}}}if(c.checkout){var f=this.captureCart();if(f){this.sendAllProductsInCartToGA(f).then(function(){return b.sendCheckoutEventToGA()}).catch(function(a){return b.sendErrorToSentry(a)})}}if(c.confirmation){var g=this.captureTransaction();if(g){var h=this.formatProductsInTransaction();this.sendAllProductsInTransactionToGA(h).then(function(){return b.sendTransactionEventToGA(g)}).catch(function(a){return b.sendErrorToSentry(a)})}}}}]);return b}(j.default);b.default=k},function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:true});var d=function(){function a(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||false;d.configurable=true;if('value'in d)d.writable=true;Object.defineProperty(a,d.key,d)}}return function(b,c,d){if(c)a(b.prototype,c);if(d)a(b,d);return b}}();function c(a,b){if(!(a instanceof b)){throw new TypeError('Cannot call a class as a function')}}var e=b.AU_GA_NAMESPACE='auPassiveTagger',f=b.TAGGER_ID='3955350d7fbbf3b0af4d2ea2bf5b6a4c',g=function(){function a(){c(this,a);console.log('building store class')}d(a,[{key:'sendAddProductEventToGA',value:function a(b){try{ga(e+'.ec:addProduct',{id:b.id,name:b.name,brand:b.brand,price:b.price});ga(e+'.ec:setAction','add');ga(e+'.send','event','UX','click','add to cart')}catch(a){this.sendErrorToSentry(a)}}},{key:'sendViewProductEventToGA',value:function a(b){try{ga(e+'.ec:addImpression',{id:b.id,name:b.name,price:b.price,brand:b.brand});ga(e+'.ec:setAction','detail');ga(e+'.send','pageview')}catch(a){this.sendErrorToSentry(a)}}},{key:'sendAllProductsInCartToGA',value:function a(b){try{for(var c=0,d;c<b.length;c++){d=b[c];ga(e+'.ec:addProduct',{id:d.id,brand:d.brand,name:d.name,price:d.price,quantity:d.quantity})}return Promise.resolve()}catch(a){return Promise.reject(a)}}},{key:'sendCheckoutEventToGA',value:function a(){try{ga(e+'.ec:setAction','checkout',{step:1});ga(e+'.send','event',{eventCategory:'Checkout',eventAction:'checkout',hitCallback:function a(){}})}catch(a){this.sendErrorToSentry(a)}}},{key:'sendAllProductsInTransactionToGA',value:function a(b){try{for(var c=0,d;c<b.length;c++){d=b[c];ga(e+'.ec:addProduct',{id:d.id,name:d.name,brand:d.brand,price:d.price,quantity:d.quantity})}return Promise.resolve()}catch(a){return Promise.reject(a)}}},{key:'sendTransactionEventToGA',value:function a(b){try{ga(e+'.ec:setAction','purchase',{id:b.id,affiliation:b.affiliation,revenue:b.revenue,tax:b.tax,shipping:b.shipping});ga(e+'.send','pageview')}catch(a){this.sendErrorToSentry(a)}}},{key:'profilerServiceRequest',value:function a(b){var c='https://p.ad.gt/api/v1/p/ubh/zys/s/3955350d7fbbf3b0af4d2ea2bf5b6a4c/337eb5d4-35bc-464c-b16b-845ab012f1f2?url=',d=c+encodeURI(JSON.stringify(b)),e=new XMLHttpRequest;e.open('GET',d);e.send()}},{key:'sendErrorToSentry',value:function a(b){var c='https://p.ad.gt/api/v1/p/scraper_error?message=',d=c+encodeURI(b),e=new XMLHttpRequest;e.withCredentials=true;e.open('GET',d);e.send()}}]);return a}();b.default=g},function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:true});var h=function(){function a(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||false;d.configurable=true;if('value'in d)d.writable=true;Object.defineProperty(a,d.key,d)}}return function(b,c,d){if(c)a(b.prototype,c);if(d)a(b,d);return b}}(),i=c(3),j=d(i);function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b)){throw new TypeError('Cannot call a class as a function')}}function f(a,b){if(!a){throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called')}return b&&('object'===typeof b||'function'===typeof b)?b:a}function g(a,b){if('function'!==typeof b&&null!==b){throw new TypeError('Super expression must either be null or a function, not '+typeof b)}a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:false,writable:true,configurable:true}});if(b)Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b}var k=function(a){g(b,a);function b(a){e(this,b);var c=f(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));console.log('building thewarnermusicshop class');c.brand=a;return c}h(b,[{key:'captureProduct',value:function a(){try{var b=document.querySelectorAll('script'),c='';Array.prototype.forEach.call(b,function(a){var b=a.textContent&&a.textContent.replace(/ /g,'').replace(/\s/g,'');if(b&&-1!==b.indexOf('_bcaq.push([\'_trackProduct\'')){var d=27,e=b.indexOf('_bcaq.push([\'_trackProduct\'');c=b.substring(e+d+2,b.indexOf('\'',e+d+2))}});var d=document.querySelectorAll('meta'),e='',f=0;Array.prototype.forEach.call(d,function(a){var b=a.getAttribute('property');if('og:title'===b)e=a.getAttribute('content');if('og:price:amount'===b)f=parseFloat(a.getAttribute('content'))});return{id:c+'-'+i.TAGGER_ID,name:e,price:f,brand:this.brand}}catch(a){this.sendErrorToSentry(a);return null}}},{key:'initialize',value:function a(){var b=this,c={product:document.getElementsByTagName('body')[0].classList.contains('product')};if(c.product){var d=this.captureProduct();if(d){this.sendViewProductEventToGA(d);var e=document.querySelector('#product_form').querySelector('button');if(e){e.addEventListener('mousedown',function(){b.sendAddProductEventToGA(d);var a={event:'addToCart',data:d};b.profilerServiceRequest(a)});e.addEventListener('touchstart',function(){b.sendAddProductEventToGA(d);var a={event:'addToCart',data:d};b.profilerServiceRequest(a)})}}}}}]);return b}(j.default);b.default=k},function(a,b,c){'use strict';Object.defineProperty(b,'__esModule',{value:true});var f=function(){function a(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||false;d.configurable=true;if('value'in d)d.writable=true;Object.defineProperty(a,d.key,d)}}return function(b,c,d){if(c)a(b.prototype,c);if(d)a(b,d);return b}}(),g=c(6),h=d(g);function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){if(!(a instanceof b)){throw new TypeError('Cannot call a class as a function')}}var i='auPassiveTagger',j=function(){function a(b,c){e(this,a);console.log('building landing page class');this.brand=b;this.pixels=c}f(a,[{key:'sendImpressionToGA',value:function a(b,c){try{var d=document.querySelector('meta[property="og:title"]').content;ga(i+'.send',{hitType:'event',eventCategory:'landing_page',eventAction:b,eventLabel:c});return Promise.resolve()}catch(a){console.error(a);return Promise.reject()}}},{key:'handleClick',value:function a(b){var c=b.currentTarget.getAttribute('data-player'),d=b.currentTarget.href,e=new h.default(this.pixels);this.sendImpressionToGA(c,d).then(function(){e.dropPixel(c)})}},{key:'initialize',value:function a(){var b=this;Array.prototype.forEach.call(document.getElementsByTagName('a'),function(a){if(a.addEventListener){a.addEventListener('mousedown',b.handleClick.bind(b));a.addEventListener('touchstart',b.handleClick.bind(b))}else if(a.attachEvent){a.attachEvent('mousedown',b.handleClick.bind(b));a.attachEvent('touchstart',b.handleClick.bind(b))}})}}]);return a}();b.default=j},function(a,b){'use strict';Object.defineProperty(b,'__esModule',{value:true});var d=function(){function a(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||false;d.configurable=true;if('value'in d)d.writable=true;Object.defineProperty(a,d.key,d)}}return function(b,c,d){if(c)a(b.prototype,c);if(d)a(b,d);return b}}();function c(a,b){if(!(a instanceof b)){throw new TypeError('Cannot call a class as a function')}}var e=function(){function a(b){c(this,a);console.log('building pixels class');this.pixels=b}d(a,[{key:'imgSrcToElement',value:function a(b){var c=document.createElement('img');c.height=1;c.width=1;c.style.display='none';c.src=b;return c}},{key:'dropPixel',value:function a(b){var c=this.pixels[b]||[],d=true,e=false,f;try{for(var g=c[Symbol.iterator](),h,i;!(d=(h=g.next()).done);d=true){i=h.value;document.body.appendChild(this.imgSrcToElement(i))}}catch(a){e=true;f=a}finally{try{if(!d&&g.return){g.return()}}finally{if(e){throw f}}}}}]);return a}();b.default=e}]);